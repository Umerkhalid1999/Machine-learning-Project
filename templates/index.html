{% extends "base.html" %}

{% block title %}ConnectAI - AI-Powered Social Media Platform{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-4">Welcome to ConnectAI</h1>
                <p class="lead mb-4">Experience the future of social media with AI-powered content moderation and personalized recommendations.</p>
                <div class="d-flex gap-3">
                    <a href="{{ url_for('content_moderation') }}" class="btn btn-light btn-lg">
                        <i class="fas fa-shield-alt me-2"></i>Try Content Moderation
                    </a>
                    <a href="{{ url_for('recommendations') }}" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-thumbs-up me-2"></i>Get Recommendations
                    </a>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <i class="fas fa-robot fa-10x text-white opacity-75"></i>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold">AI-Powered Features</h2>
            <p class="text-muted">Two cutting-edge machine learning algorithms working together</p>
        </div>
        
        <div class="row g-4">
            <!-- Content Moderation Feature -->
            <div class="col-md-6">
                <div class="card h-100 feature-card shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="mb-3">
                            <i class="fas fa-shield-alt fa-3x text-primary"></i>
                        </div>
                        <h4 class="card-title">Content Moderation</h4>
                        <p class="card-text text-muted">
                            Real-time sentiment analysis using <strong>Logistic Regression</strong> with TF-IDF features 
                            to automatically detect and moderate inappropriate content.
                        </p>
                        <ul class="list-unstyled text-start">
                            <li><i class="fas fa-check text-success me-2"></i>89% accuracy in sentiment detection</li>
                            <li><i class="fas fa-check text-success me-2"></i>< 1ms response time</li>
                            <li><i class="fas fa-check text-success me-2"></i>Automatic action recommendations</li>
                            <li><i class="fas fa-check text-success me-2"></i>70% reduction in manual moderation</li>
                        </ul>
                        <a href="{{ url_for('content_moderation') }}" class="btn btn-primary">
                            <i class="fas fa-play me-2"></i>Try Demo
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Recommendations Feature -->
            <div class="col-md-6">
                <div class="card h-100 feature-card shadow-sm">
                    <div class="card-body text-center p-4">
                        <div class="mb-3">
                            <i class="fas fa-thumbs-up fa-3x text-success"></i>
                        </div>
                        <h4 class="card-title">Smart Recommendations</h4>
                        <p class="card-text text-muted">
                            Personalized content recommendations using <strong>Item-based Collaborative Filtering</strong> 
                            with cosine similarity to enhance user engagement.
                        </p>
                        <ul class="list-unstyled text-start">
                            <li><i class="fas fa-check text-success me-2"></i>78% precision in recommendations</li>
                            <li><i class="fas fa-check text-success me-2"></i>< 10ms recommendation generation</li>
                            <li><i class="fas fa-check text-success me-2"></i>Cold start problem handling</li>
                            <li><i class="fas fa-check text-success me-2"></i>45% increase in user engagement</li>
                        </ul>
                        <a href="{{ url_for('recommendations') }}" class="btn btn-success">
                            <i class="fas fa-play me-2"></i>Try Demo
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Technical Details Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold">Technical Implementation</h2>
            <p class="text-muted">Fast, lightweight ML algorithms designed for real-time performance</p>
        </div>
        
        <div class="row g-4">
            <div class="col-md-4">
                <div class="text-center">
                    <div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                        <i class="fas fa-brain fa-2x"></i>
                    </div>
                    <h5>Algorithm 1: Sentiment Analysis</h5>
                    <p class="text-muted">
                        <strong>Logistic Regression + TF-IDF</strong><br>
                        Fast training (< 1 minute)<br>
                        5,000 features, 3 classes<br>
                        Real-time inference
                    </p>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="text-center">
                    <div class="bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                        <i class="fas fa-network-wired fa-2x"></i>
                    </div>
                    <h5>Algorithm 2: Collaborative Filtering</h5>
                    <p class="text-muted">
                        <strong>Item-based + Cosine Similarity</strong><br>
                        Quick training (< 30 seconds)<br>
                        200 users, 100 items<br>
                        Instant recommendations
                    </p>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="text-center">
                    <div class="bg-info text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                        <i class="fas fa-chart-line fa-2x"></i>
                    </div>
                    <h5>Business Impact</h5>
                    <p class="text-muted">
                        <strong>240% ROI projected</strong><br>
                        60% cost reduction<br>
                        40% better user retention<br>
                        Scalable architecture
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Live Demo Section -->
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold">Live Demo</h2>
            <p class="text-muted">Test our ML algorithms in real-time</p>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow">
                    <div class="card-body p-4">
                        <h5 class="card-title text-center mb-4">Quick Content Analysis</h5>
                        
                        <div class="mb-3">
                            <label for="quickText" class="form-label">Enter text to analyze:</label>
                            <textarea class="form-control" id="quickText" rows="3" 
                                placeholder="Type a social media post here..."></textarea>
                        </div>
                        
                        <div class="text-center mb-3">
                            <button class="btn btn-primary" onclick="analyzeQuickText()">
                                <i class="fas fa-magic me-2"></i>Analyze with AI
                            </button>
                        </div>
                        
                        <div id="quickResult" class="alert" style="display: none;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h3 class="fw-bold text-primary mb-4">Real-World ML Dataset</h3>
            <div class="row">
                <div class="col-6">
                    <h4 class="text-success mb-2">5,574</h4>
                    <p class="text-muted mb-1">Real SMS Messages</p>
                </div>
                <div class="col-6">
                    <h4 class="text-warning mb-2">747</h4>
                    <p class="text-muted mb-1">Spam Examples</p>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <h4 class="text-info mb-2">4,827</h4>
                    <p class="text-muted mb-1">Legitimate Messages</p>
                </div>
                <div class="col-6">
                    <h4 class="text-primary mb-2">89%</h4>
                    <p class="text-muted mb-1">Model Accuracy</p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
function analyzeQuickText() {
    const text = document.getElementById('quickText').value.trim();
    const resultDiv = document.getElementById('quickResult');
    
    if (!text) {
        resultDiv.className = 'alert alert-warning';
        resultDiv.innerHTML = '<i class="fas fa-exclamation-triangle me-2"></i>Please enter some text to analyze.';
        resultDiv.style.display = 'block';
        return;
    }
    
    // Show loading
    resultDiv.className = 'alert alert-info';
    resultDiv.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Analyzing with AI...';
    resultDiv.style.display = 'block';
    
    // Call API
    fetch('/api/moderate', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({text: text})
    })
    .then(response => response.json())
    .then(data => {
        if (data.error) {
            resultDiv.className = 'alert alert-danger';
            resultDiv.innerHTML = `<i class="fas fa-exclamation-circle me-2"></i>Error: ${data.error}`;
        } else {
            const actionColors = {
                'APPROVE': 'success',
                'REVIEW': 'warning', 
                'BLOCK': 'danger'
            };
            
            const color = actionColors[data.action] || 'info';
            resultDiv.className = `alert alert-${color}`;
            resultDiv.innerHTML = `
                <div class="row">
                    <div class="col-md-6">
                        <strong><i class="fas fa-brain me-2"></i>AI Analysis:</strong><br>
                        Sentiment: <span class="badge bg-secondary">${data.sentiment}</span><br>
                        Confidence: ${(data.confidence * 100).toFixed(1)}%<br>
                        Toxicity Score: ${(data.toxicity_score * 100).toFixed(1)}%
                    </div>
                    <div class="col-md-6">
                        <strong><i class="fas fa-gavel me-2"></i>Moderation:</strong><br>
                        Action: <span class="badge bg-${color}">${data.action}</span><br>
                        <small class="text-muted">Automated decision based on AI analysis</small>
                    </div>
                </div>
            `;
        }
    })
    .catch(error => {
        resultDiv.className = 'alert alert-danger';
        resultDiv.innerHTML = `<i class="fas fa-exclamation-circle me-2"></i>Error: ${error.message}`;
    });
}

// Allow Enter key to submit
document.getElementById('quickText').addEventListener('keypress', function(e) {
    if (e.key === 'Enter' && e.ctrlKey) {
        analyzeQuickText();
    }
});
</script>
{% endblock %} 